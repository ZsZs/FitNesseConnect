sudo: required

language: java
jdk: oraclejdk8

services:
  - docker

addons:
  sonarqube:
    organization: "processpuzzle"

cache:
  directories:
  - $HOME/.m2
  â€“ $HOME/.sonar/cache

script:
  # other script steps might be done before running the actual SonarQube analysis
  - sonar-scanner
  
after_success:
  - bash <(curl -s https://codecov.io/bash)
  - mvn deploy --settings travis-maven-settings.xml -DskipTests=true -B

deploy:
  skip_cleanup: true
  provider: script
  script: mvn -f fitnesse-connect-docker/pom.xml deploy --settings travis-maven-settings.xml -DskipTests=true -B -Pdocker-deploy
  on:
    branch: development